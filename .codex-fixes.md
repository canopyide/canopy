# Codex Review Fixes

## Issue 1: Type guards default undefined kind to "terminal"

Fix type guards to detect legacy browser panels by checking for browserUrl

## Issue 2: Persistence transform has same issue

Fix persistence to derive kind from browserUrl when missing

## Issue 3: Remaining hardcoded browser check

Replace `requestedKind === "browser"` with registry-driven check

## Issue 4: Unsafe type assertion

Remove `as TerminalInstance` cast and ensure proper typing
